{"version":3,"sources":["Vector.js","Particle.js","app.js"],"names":["module","exports","x","y","z","A","c","V","Math","sqrt","B","q","S","color","random","field","dt","F","cross","scale","addScale$","canvas","fillStyle","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","arc","abs","PI","fill","world","document","querySelector","width","window","innerWidth","height","innerHeight","getContext","particles","justAConstantFieldVectorLol","sin","lastT","performance","now","loop","nowT","fillRect","i","j","f","length","update","draw","requestAnimationFrame","push","Particle","addEventListener","e","clientX","clientY"],"mappings":"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","file":"app.3990d017.map","sourceRoot":"..","sourcesContent":["module.exports = class V {\r\n  constructor(x, y, z) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n  }\r\n\r\n  addScale$(A, c) {\r\n    this.x += A.x * c;\r\n    this.y += A.y * c;\r\n    this.z += A.z * c;\r\n  }\r\n\r\n  scale(c) {\r\n    return new V(c*this.x, c*this.y, c*this.z);\r\n  }\r\n\r\n  static cross(A, B) {\r\n    return new V(\r\n      A.y*B.z - A.z*B.y,\r\n      A.z*B.x - A.x*B.z,\r\n      A.x*B.y - A.y*B.x\r\n    );\r\n  }\r\n\r\n  abs() {\r\n    return Math.sqrt(this.x*this.x + this.y*this.y + this.z*this.z);\r\n  }\r\n};","import V from './Vector';\r\n\r\nmodule.exports = class Particle {\r\n\r\n  constructor(q, S, V) {\r\n    this.q = q;\r\n    this.S = S;\r\n    this.V = V;\r\n    this.color = `hsl(${~~(Math.random()*360)}deg, 65%, 65%)`;\r\n  }\r\n\r\n  update(field, dt) {\r\n    this.F = V.cross(this.V, field(this.S)).scale(this.q);\r\n\r\n    this.V.addScale$(this.F, dt);\r\n    this.S.addScale$(this.V, dt);\r\n  }\r\n\r\n  draw(canvas) {\r\n    // Arrows I mean Vectors\r\n    canvas.fillStyle = canvas.strokeStyle = 'red';\r\n    canvas.lineWidth = 4;\r\n    canvas.beginPath();\r\n    canvas.moveTo(this.S.x, this.S.y);\r\n    canvas.lineTo(this.S.x+this.F.x/2, this.S.y+this.F.y/2);\r\n    canvas.stroke();\r\n    canvas.fillStyle = canvas.strokeStyle = 'blue';\r\n    canvas.beginPath();\r\n    canvas.moveTo(this.S.x, this.S.y);\r\n    canvas.lineTo(this.S.x+this.V.x/2, this.S.y+this.V.y/2);\r\n    canvas.stroke();\r\n\r\n    // Particle\r\n    canvas.fillStyle = this.color;\r\n    canvas.beginPath();\r\n    canvas.arc(this.S.x, this.S.y, Math.abs(this.q)*10.0, 0, 2.0*Math.PI);\r\n    canvas.fill();\r\n  }\r\n\r\n}","import V from './Vector';\r\nimport Particle from './Particle';\r\n\r\nlet world = document.querySelector('#world');\r\nlet width = world.width = window.innerWidth;\r\nlet height = world.height = window.innerHeight;\r\nlet canvas = world.getContext('2d'); // World is the canvas and canvas is the context, yes\r\n\r\n\r\nlet particles = []; // List of particles\r\n\r\nlet justAConstantFieldVectorLol = new V(0, 0, 1);\r\nfunction field(S) {\r\n  // return justAConstantFieldVectorLol;\r\n  // return new V(0, 0, 5*S.abs()/width);\r\n  return new V(0, 0, Math.sin(S.abs()*0.01));\r\n  // return new V(0, 0, S.x/width);\r\n}\r\n\r\n\r\nlet lastT = performance.now();\r\n\r\nfunction loop(nowT) {\r\n  let dt = (nowT - lastT)/1000.0;\r\n  lastT = nowT;\r\n\r\n  canvas.fillStyle = 'black';\r\n  canvas.fillRect(0, 0, width, height);\r\n\r\n  canvas.fillStyle = canvas.strokeStyle = '#ffffff15';\r\n  canvas.lineWidth = 7;\r\n  for (let i = 40; i < height-40; i += 80) {\r\n    for (let j = 40; j < width-40; j += 80) {\r\n      let f = field(new V(j, i, 0));\r\n      canvas.beginPath();\r\n      canvas.arc(j, i, f.abs()*38.0, 0, 2.0*Math.PI);\r\n      canvas[f.z < 0 ? 'fill' : 'stroke']();\r\n    }\r\n  }\r\n\r\n  for (let i = particles.length-1; i >= 0; i--) {\r\n    // Loop through all of the particles\r\n\r\n    particles[i].update(field, dt);\r\n    particles[i].draw(canvas);\r\n  }\r\n  \r\n  window.requestAnimationFrame(loop);\r\n}\r\n\r\nwindow.requestAnimationFrame(loop);\r\n\r\nparticles.push(new Particle(\r\n  -1, \r\n  new V(width/2.0, height/2.0, 0), \r\n  new V(0, -100.0, 0)\r\n));\r\n\r\nwindow.addEventListener('click', (e) => {\r\n  particles.push(new Particle(\r\n    1, \r\n    new V(e.clientX, e.clientY, 0), \r\n    new V(0, -100.0, 0)\r\n  ));\r\n  \r\n})\r\n"]}