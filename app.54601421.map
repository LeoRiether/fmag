{"version":3,"sources":["Vector.js","Particle.js","app.js"],"names":["module","exports","x","y","z","A","c","V","Math","sqrt","B","q","S","color","random","field","dt","F","cross","scale","addScale$","canvas","fillStyle","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","arc","abs","PI","fill","world","document","querySelector","width","window","innerWidth","height","innerHeight","getContext","particles","justAConstantFieldVectorLol","sin","lastT","performance","now","loop","nowT","fillRect","i","j","f","length","update","draw","requestAnimationFrame","push","Particle","addEventListener","e","clientX","clientY"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ADFAhC,OAAOC,OAAP;AACE,aAAYC,CAAZ,EAAeC,CAAf,EAAkBC,CAAlB,EAAqB;AAAA;;AACnB,SAAKF,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACD;;AALH;AAAA;AAAA,8BAOYC,CAPZ,EAOeC,CAPf,EAOkB;AACd,WAAKJ,CAAL,IAAUG,EAAEH,CAAF,GAAMI,CAAhB;AACA,WAAKH,CAAL,IAAUE,EAAEF,CAAF,GAAMG,CAAhB;AACA,WAAKF,CAAL,IAAUC,EAAED,CAAF,GAAME,CAAhB;AACD;AAXH;AAAA;AAAA,0BAaQA,CAbR,EAaW;AACP,aAAO,IAAIC,CAAJ,CAAMD,IAAE,KAAKJ,CAAb,EAAgBI,IAAE,KAAKH,CAAvB,EAA0BG,IAAE,KAAKF,CAAjC,CAAP;AACD;AAfH;AAAA;AAAA,0BAyBQ;AACJ,aAAOI,KAAKC,IAAL,CAAU,KAAKP,CAAL,GAAO,KAAKA,CAAZ,GAAgB,KAAKC,CAAL,GAAO,KAAKA,CAA5B,GAAgC,KAAKC,CAAL,GAAO,KAAKA,CAAtD,CAAP;AACD;AA3BH;AAAA;AAAA,0BAiBeC,CAjBf,EAiBkBK,CAjBlB,EAiBqB;AACjB,aAAO,IAAIH,CAAJ,CACLF,EAAEF,CAAF,GAAIO,EAAEN,CAAN,GAAUC,EAAED,CAAF,GAAIM,EAAEP,CADX,EAELE,EAAED,CAAF,GAAIM,EAAER,CAAN,GAAUG,EAAEH,CAAF,GAAIQ,EAAEN,CAFX,EAGLC,EAAEH,CAAF,GAAIQ,EAAEP,CAAN,GAAUE,EAAEF,CAAF,GAAIO,EAAER,CAHX,CAAP;AAKD;AAvBH;;AAAA;AAAA","file":"app.54601421.map","sourceRoot":"..","sourcesContent":["module.exports = class V {\r\n  constructor(x, y, z) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n  }\r\n\r\n  addScale$(A, c) {\r\n    this.x += A.x * c;\r\n    this.y += A.y * c;\r\n    this.z += A.z * c;\r\n  }\r\n\r\n  scale(c) {\r\n    return new V(c*this.x, c*this.y, c*this.z);\r\n  }\r\n\r\n  static cross(A, B) {\r\n    return new V(\r\n      A.y*B.z - A.z*B.y,\r\n      A.z*B.x - A.x*B.z,\r\n      A.x*B.y - A.y*B.x\r\n    );\r\n  }\r\n\r\n  abs() {\r\n    return Math.sqrt(this.x*this.x + this.y*this.y + this.z*this.z);\r\n  }\r\n};","import V from './Vector';\r\n\r\nmodule.exports = class Particle {\r\n\r\n  constructor(q, S, V) {\r\n    this.q = q;\r\n    this.S = S;\r\n    this.V = V;\r\n    this.color = `hsl(${~~(Math.random()*360)}deg, 65%, 65%)`;\r\n  }\r\n\r\n  update(field, dt) {\r\n    this.F = V.cross(this.V, field(this.S)).scale(this.q);\r\n\r\n    this.V.addScale$(this.F, dt);\r\n    this.S.addScale$(this.V, dt);\r\n  }\r\n\r\n  draw(canvas) {\r\n    // Arrows I mean Vectors\r\n    canvas.fillStyle = canvas.strokeStyle = 'red';\r\n    canvas.lineWidth = 4;\r\n    canvas.beginPath();\r\n    canvas.moveTo(this.S.x, this.S.y);\r\n    canvas.lineTo(this.S.x+this.F.x/2, this.S.y+this.F.y/2);\r\n    canvas.stroke();\r\n    canvas.fillStyle = canvas.strokeStyle = 'blue';\r\n    canvas.beginPath();\r\n    canvas.moveTo(this.S.x, this.S.y);\r\n    canvas.lineTo(this.S.x+this.V.x/2, this.S.y+this.V.y/2);\r\n    canvas.stroke();\r\n\r\n    // Particle\r\n    canvas.fillStyle = this.color;\r\n    canvas.beginPath();\r\n    canvas.arc(this.S.x, this.S.y, Math.abs(this.q)*10.0, 0, 2.0*Math.PI);\r\n    canvas.fill();\r\n  }\r\n\r\n}","import V from './Vector';\r\nimport Particle from './Particle';\r\n\r\nlet world = document.querySelector('#world');\r\nlet width = world.width = window.innerWidth;\r\nlet height = world.height = window.innerHeight;\r\nlet canvas = world.getContext('2d'); // World is the canvas and canvas is the context, yes\r\n\r\n\r\nlet particles = []; // List of particles\r\n\r\nlet justAConstantFieldVectorLol = new V(0, 0, 1);\r\nfunction field(S) {\r\n  // return justAConstantFieldVectorLol;\r\n  // return new V(0, 0, 5*S.abs()/width);\r\n  return new V(0, 0, Math.sin(S.abs()*0.01));\r\n  // return new V(0, 0, S.x/width);\r\n}\r\n\r\n\r\nlet lastT = performance.now();\r\n\r\nfunction loop(nowT) {\r\n  let dt = (nowT - lastT)/1000.0;\r\n  lastT = nowT;\r\n\r\n  canvas.fillStyle = 'black';\r\n  canvas.fillRect(0, 0, width, height);\r\n\r\n  canvas.fillStyle = canvas.strokeStyle = '#ffffff15';\r\n  canvas.lineWidth = 7;\r\n  for (let i = 40; i < height-40; i += 80) {\r\n    for (let j = 40; j < width-40; j += 80) {\r\n      let f = field(new V(j, i, 0));\r\n      canvas.beginPath();\r\n      canvas.arc(j, i, f.abs()*38.0, 0, 2.0*Math.PI);\r\n      canvas[f.z < 0 ? 'fill' : 'stroke']();\r\n    }\r\n  }\r\n\r\n  for (let i = particles.length-1; i >= 0; i--) {\r\n    // Loop through all of the particles\r\n\r\n    particles[i].update(field, dt);\r\n    particles[i].draw(canvas);\r\n  }\r\n  \r\n  window.requestAnimationFrame(loop);\r\n}\r\n\r\nwindow.requestAnimationFrame(loop);\r\n\r\nparticles.push(new Particle(\r\n  -1, \r\n  new V(width/2.0, height/2.0, 0), \r\n  new V(0, -100.0, 0)\r\n));\r\n\r\nwindow.addEventListener('click', (e) => {\r\n  particles.push(new Particle(\r\n    1, \r\n    new V(e.clientX, e.clientY, 0), \r\n    new V(0, -100.0, 0)\r\n  ));\r\n  \r\n})\r\n"]}